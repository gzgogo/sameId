<html>
  <head>
    <title>id打通</title>
    <style>
      #error {
        color: red;
      }
      #exception {
        color: yellow;
      }
    </style>
  </head>
  <body>
    <button onclick="getDeviceId1()">getDeviceId from 30.25.76.72</button>
    <button onclick="getDeviceId2()">getDeviceId from 127.0.0.1</button>
    <button onclick="getDeviceId3()">getDeviceId from localhost</button>
    <button onclick="getDeviceId4()">getDeviceId from https://127.0.0.1</button>
    <div id="result"></div>
    <div id="error"></div>
    <div id="exception"></div>
    <iframe id="idFrame" src="https://30.25.76.72:8080/"/>
    <script>
      function getDeviceId1() {
        try {
          fetch('http://30.25.76.72:8080/user/getDeviceId')
            .then(function(response) {
              return response.text()
            })
            .then(function(body) {
              var result = document.getElementById('result');
              result.innerHTML = body
            })
            .catch(function(err) {
              var error = document.getElementById('error');
              var errMsg = err.message + '----' + err.description;
              error.innerHTML = errMsg;
            })
        } catch (exp) {
          var exception = document.getElementById('exception');
          var errMsg = exp.message + '----' + exp.description;
          exception.innerHTML = errMsg;
        }
      }
      function getDeviceId2() {
        try {
          fetch('http://127.0.0.1:8080/user/getDeviceId')
            .then(function(response) {
              return response.text()
            })
            .then(function(body) {
              var result = document.getElementById('result');
              result.innerHTML = body
            })
            .catch(function(err) {
              var error = document.getElementById('error');
              var errMsg = err.message + '----' + err.description;
              error.innerHTML = errMsg;
            })
        } catch (exp) {
          var exception = document.getElementById('exception');
          var errMsg = exp.message + '----' + exp.description;
          exception.innerHTML = errMsg;
        }
      }
      function getDeviceId3() {
        try {
          fetch('http://localhost:8080/user/getDeviceId')
            .then(function(response) {
              return response.text()
            })
            .then(function(body) {
              var result = document.getElementById('result');
              result.innerHTML = body
            })
            .catch(function(err) {
              var error = document.getElementById('error');
              var errMsg = err.message + '----' + err.description;
              error.innerHTML = errMsg;
            })
        } catch (exp) {
          var exception = document.getElementById('exception');
          var errMsg = exp.message + '----' + exp.description;
          exception.innerHTML = errMsg;
        }
      }
      function getDeviceId4() {
        try {
          fetch('https://127.0.0.1:8080/user/getDeviceId')
            .then(function(response) {
              return response.text()
            })
            .then(function(body) {
              var result = document.getElementById('result');
              result.innerHTML = body
            })
            .catch(function(err) {
              var error = document.getElementById('error');
              var errMsg = err.message + '----' + err.description;
              error.innerHTML = errMsg;
            })
        } catch (exp) {
          var exception = document.getElementById('exception');
          var errMsg = exp.message + '----' + exp.description;
          exception.innerHTML = errMsg;
        }
      }
    </script>
  </body>
</html>
